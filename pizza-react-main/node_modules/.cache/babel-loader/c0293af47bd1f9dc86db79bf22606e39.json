{"ast":null,"code":"var _jsxFileName = \"/Users/akhmadkholmurodov/Desktop/wbs/pizza-react-main/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Cart from './components/Cart';\nimport Products from './components/Products';\nimport logo from './components/logo.png';\nimport filterList from './components/filterList';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    setProducts(filterList([], null));\n\n    if (JSON.parse(localStorage.getItem(\"cart\"))) {\n      setCart(JSON.parse(localStorage.getItem(\"cart\")));\n    }\n  }, []);\n\n  const addToCart = item => {\n    const productList = [...cart];\n\n    if (!productList.includes(item)) {\n      productList.push(item);\n    }\n\n    const index = productList.indexOf(item);\n    productList[index].quantity++;\n    setCart(productList);\n    localStorage.setItem(\"cart\", JSON.stringify(productList));\n    alert(\"Пицца добавлен\", cart);\n    console.log(index);\n  };\n\n  const changeQuantity = (item, e) => {\n    const productList = [...cart];\n    const index = productList.indexOf(item);\n\n    if (e === '+') {\n      productList[index].quantity++;\n    } else {\n      if (productList[index].quantity > 1) {\n        productList[index].quantity--;\n      } else {\n        productList.splice(index, 1);\n      }\n    }\n\n    localStorage.setItem(\"cart\", JSON.stringify(productList));\n    setCart(productList);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"brand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Cart, {\n        products: cart,\n        changeQuantity: changeQuantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Products, {\n      products: products,\n      addToCart: addToCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(App, \"WvH4Ke8djrZzUkqp4IE2H8iDgDI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/akhmadkholmurodov/Desktop/wbs/pizza-react-main/src/App.js"],"names":["React","useState","useEffect","Cart","Products","logo","filterList","App","products","setProducts","cart","setCart","JSON","parse","localStorage","getItem","addToCart","item","productList","includes","push","index","indexOf","quantity","setItem","stringify","alert","console","log","changeQuantity","e","splice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Cart from './components/Cart';\r\nimport Products from './components/Products';\r\nimport logo from './components/logo.png';\r\nimport filterList from './components/filterList';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [cart, setCart] = useState([]);\r\n\r\n    useEffect(() => {\r\n        setProducts(filterList([], null));\r\n        if(JSON.parse(localStorage.getItem(\"cart\"))) {\r\n            setCart(JSON.parse(localStorage.getItem(\"cart\")));\r\n        }\r\n    }, [])\r\n\r\n    const addToCart = (item) => {\r\n        const productList = [...cart];\r\n        if(!productList.includes(item)){\r\n            productList.push(item);\r\n        }\r\n        const index = productList.indexOf(item);\r\n        productList[index].quantity++;\r\n        setCart(productList);\r\n        localStorage.setItem(\"cart\", JSON.stringify(productList));\r\n\r\n        alert(\"Пицца добавлен\", cart);\r\n        console.log(index);\r\n    }\r\n\r\n    const changeQuantity = (item, e) => {\r\n        const productList = [...cart];\r\n        const index = productList.indexOf(item);\r\n        if(e === '+'){\r\n            productList[index].quantity++;\r\n        } else {\r\n            if(productList[index].quantity > 1){\r\n                productList[index].quantity--;\r\n            } else {\r\n                productList.splice(index, 1);\r\n            }\r\n        }\r\n        localStorage.setItem(\"cart\", JSON.stringify(productList));\r\n        setCart(productList);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className='header'>\r\n                <img src={logo} className='brand' />\r\n                <Cart products={cart} changeQuantity={changeQuantity} />\r\n            </div>\r\n            <Products products={products} addToCart={addToCart} />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}